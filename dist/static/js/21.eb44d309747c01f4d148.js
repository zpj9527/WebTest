webpackJsonp([21],{Cn3p:function(e,t){},xSeu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),i=a.n(s),n=a("mvHQ"),r=a.n(n),l=a("BO1k"),c=a.n(l),o=a("mtWM"),_=a.n(o),p={name:"MemberList",data:function(){return{hotel_info:"",SelectUrLHeader:this.api.api_pro_dev+"/",UrLHeader:this.api.api_pro_dev+"/v1/",rateHeader:this.api.api_pro_dev+"/v1/",url:this.api.api_pro_dev,currentPage:1,pagesize:15,total:0,companyArr:[{code:"C",descript:"公司"},{code:"S",descript:"预定中心/OTA"},{code:"A",descript:"旅行社"}],companyDict:{C:"公司",S:"预定中心/OTA",A:"旅行社"},statusArr:[{code:"O",descript:"初始"},{code:"E",descript:"有效"},{code:"L",descript:"销卡"},{code:"R",descript:"挂失"},{code:"B",descript:"损坏"},{code:"S",descript:"停用"},{code:"D",descript:"休眠"}],CardTypeTree:[],CardLevelTree:[],idCodeArr:[],nationArr:[],languageArr:[],raceArr:[],countryArr:[],provinceArr:[],cityArr:[],addressArr:[],religionArr:[],salaryArr:[],interestArr:[],arAccountArr:[],checkArDialogVisible:!1,arAccountindex:"",cardBaseList:[],marketArr:[],srcArr:[],fj_codeArr:[],guestTypeArr:[],guestGradeArr:[],latencyArr:[],class1Arr:[],class2Arr:[],class3Arr:[],class4Arr:[],salesmanArr:[],cloneData:{},certainBaseData:{company_type:{flag_cat:null,grade:null,latency:null,class1:null,class2:null,class3:null,class4:null,src:null,market:null,is_over_rsv_src:null},company_prefer:{specials:null,amenity:null,feature:null,room_prefer:null,interest:null,prefer_front:null,prefer_fb:null,prefer_other:null},company_production:{first_visit_date:null,first_visit_room:null,first_visit_rate:null,last_visit_date:null,last_visit_room:null,last_visit_rate:null,days_in:"0.00",times_in:0,times_cxl:0,times_noshow:0,times_trans:0,times_fb:0,times_en:0,production_rm:"0.00",production_fb:"0.00",production_en:"0.00",production_mt:"0.00",production_ot:"0.00",production_ttl:"0.00"},card_type:"",card_level:"",card_no:"",card_master:null,status:"E",rate_code:"",comm_code:null,sys_cat:"",sale_man:null,date_begin:"",date_end:"",name:"",language:null,country:null,phone:null,fax:null,email:null,website:null,blog:null,linkman1:null,state:null,city:null,division:null,street:null,zip_code:null,manual_no:null,representative:null,register_no:null,bank_name:null,bank_account:null,tax_no:null,ar_no1:null,point_pay:"0.00",point_charge:"0.00",point_last_num:0,point_last_num_link:0,money_pay:"0.00",money_charge:"0.00",money_freeze:"0.00",money_receipt:"0.00",money_real_pay:"0.00",money_last_num:0,money_last_num_link:0,credit:"0.00",remark:null},listShow:!0,newAddBtn:!1,canEdit:!1,checked:!0,SearchContent:"",memberBirDate:"",name_reg:/^[a-zA-Z\u4e00-\u9fa5]+$/,id_code_reg:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,phone_reg:/^1[3|4|5|6|7|8|9][0-9]{9}$/,telephone_reg:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,dialogVisible:!1,title:"",param:{credit_limit:null,ar_cycle:null,ar_cycle_day:null,name:null,contact:null,contact_phone:null,credit_card:null,comment:null},reference_type:null,register_data:null,guarantor_type:null,guarantor_id:null,sales_id:null,ar_status:null,is_permanent:"0",is_halt:"0",is_cycled:"1",close_date:null,is_group:"",keep_accounts:[],activeName:"first",options:[],assure:[],dite:!0,bonds_list:[],bondsman:[],assure_api:"",dataarr:[],condition:[{id:0,label:"有效"},{id:1,label:"结清账户"},{id:2,label:"限制使用账户"},{id:3,label:"黑名单账户"},{id:4,label:"异常"}],register_list:[],group:!1,checked_arr:[],upload_flags:!1,mongolia_tip:!1}},methods:{employee:function(){var e=this;e.$axios({url:e.api.apiTauthPro_apiTauthDev+"/organization/hotel_base/hotel_get_employee/",method:"get",params:{page_size:999}}).then(function(t){"success"===t.data.message?(e.bondsman=t.data.data.results,e.dataarr=e.bondsman.map(function(e,t){return{name:e.real_name,id:e.id}}),console.info(e.dataarr),e.bondsman=e.dataarr):console.log(t.data.message)}).catch(function(e){console.log(e)})},employ:function(){var e=this;e.$axios({url:e.api.apiTauthPro_apiTauthDev+"/organization/hotel_base/hotel_get_employee/",method:"get",params:{page_size:999}}).then(function(t){"success"===t.data.message?(console.log(t),e.bonds_list=t.data.data.results):console.log(t.data.message)}).catch(function(e){console.log(e)})},client_data:function(){var e=this;e.$axios({url:e.api.api_pro_dev+"/v1/system/settings/get_code_base_list/?parent_code=ar_category&ordering=-modify_datetime",method:"get",params:{page_size:999}}).then(function(t){"success"===t.data.message?(console.log(t.data),e.options=t.data.data.results):console.log(t.data.message)}).catch(function(e){console.log(e)})},changeCount:function(){console.log(this.param.ar_cycle),(parseInt(this.param.ar_cycle)>12||parseInt(this.param.ar_cycle)<1)&&this.hintInfo("warning","结账周期不能大于12或者小于1")},changeBlur:function(){(parseInt(this.param.ar_cycle_day)>31||parseInt(this.param.ar_cycle_day)<1)&&this.hintInfo("warning","周期结账日不能大于31或者小于1")},guarantee_type:function(){var e=this;e.$axios({url:e.url+"/v1/system/settings/get_code_base_sys_list/?parent_code=DBZL",method:"get",params:{page_size:999}}).then(function(t){"success"===t.data.message&&(console.log(t.data.data),e.assure=t.data.data.results)}).catch(function(e){console.log(e)})},assure_type:function(e){console.log(e),this.guarantor_data=e,this.assure_api="http://"+e.split(",")[1],this.archives_number()},archives_number:function(){var e=this;e.$axios({url:e.assure_api,method:"get"}).then(function(t){"success"===t.data.message&&(console.log(t.data.data.list),e.bondsman=t.data.data.list,0!==t.data.data.count?e.guarantor_id=t.data.data.results[0].id:e.guarantor_id="")}).catch(function(e){console.log(e)})},focus_type:function(){""===this.value_data&&this.hintInfo("warning","请先选择客户类型")},guarantor_value:function(){""===this.guarantor_data&&this.hintInfo("warning","请先选择担保类型")},cash_register:function(){var e=this;e.$axios({url:e.url+"/v1/accounts/get_cash_register_list/",method:"get",params:{page_size:999}}).then(function(t){"success"===t.data.message?(console.log(t),e.register_list=t.data.data.results):console.log(t.data.message)}).catch(function(e){console.log(e)})},flush:function(){this.param={credit_limit:null,ar_cycle:null,ar_cycle_day:null,name:null,contact:null,contact_phone:null,credit_card:null,comment:null},this.reference_type=null,this.register_data=null,this.guarantor_type=null,this.guarantor_id=null,this.sales_id=null,this.ar_status=null,this.is_permanent="0",this.is_halt="0",this.is_cycled="1",this.close_date=null,this.is_group=""},arAccount:function(){2===parseInt(sessionStorage.getItem("root_level"))?(this.group=!0,this.is_group="1",this.dialogVisible=!0,this.title="新增AR账户",this.recorded(),this.activeName="first"):(this.group=!1,this.is_group="0",this.dialogVisible=!0,this.title="新增AR账户",this.recorded(),this.activeName="first")},recorded:function(){var e=this;e.$axios({url:e.url+"/v1/system/settings/get_code_pay_for_list_tree/",method:"get"}).then(function(t){if("success"===t.data.message){console.log(t),e.keep_accounts=t.data.data;var a=[],s=!0,i=!1,n=void 0;try{for(var r,l=c()(e.keep_accounts);!(s=(r=l.next()).done);s=!0){var o=r.value,_=!0,p=!1,d=void 0;try{for(var u,v=c()(o.children);!(_=(u=v.next()).done);_=!0){var m=u.value;a.push(m.id)}}catch(e){p=!0,d=e}finally{try{!_&&v.return&&v.return()}finally{if(p)throw d}}}}catch(e){i=!0,n=e}finally{try{!s&&l.return&&l.return()}finally{if(i)throw n}}e.checked_arr=a}}).catch(function(e){console.log(e)})},ensure:function(){var e,t=this,a=[];e=this.$refs.tree.getCheckedKeys(t.checked_arr);var s=!0,i=!1,n=void 0;try{for(var l,o=c()(e);!(s=(l=o.next()).done);s=!0){var _=l.value;a.push(parseInt(_))}}catch(e){i=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(i)throw n}}console.log(a);var p=t.guarantor_type,d=void 0;d=""===t.guarantor_id?null:t.guarantor_id,"1"===t.is_cycled?""===t.param.credit_limit||""===t.reference_type||""===t.guarantor_type||""===t.ar_status||""===t.param.ar_cycle||""===t.param.ar_cycle_day||""===t.param.name?t.hintInfo("warning","*为必填项"):parseInt(t.param.ar_cycle_day)>31||parseInt(t.param.ar_cycle_day)<1?t.hintInfo("warning","周期结账日不能大于31或者小于1"):parseInt(t.param.ar_cycle)>12||parseInt(t.param.ar_cycle)<1?t.hintInfo("warning","结账周期不能大于12或者小于1"):t.$axios({url:t.url+"/v1/accounts/add_ar_account/",method:"post",data:{is_group:parseInt(t.is_group),is_permanent:parseInt(t.is_permanent),ar_account_type:t.reference_type,name:t.param.name,ar_status:t.ar_status,credit_limit:parseInt(t.param.credit_limit),contact_phone:t.param.contact_phone,contact:t.param.contact,sales_id:t.sales_id,is_cycled:parseInt(t.is_cycled),ar_cycle:t.param.ar_cycle,ar_cycle_day:t.param.ar_cycle_day,guarantor_type_id:parseInt(p),guarantor_id:d,credit_card:t.param.credit_card,remark:t.param.comment,is_halt:parseInt(t.is_halt),incoming_account_codes:r()(a),cashier:t.register_data}}).then(function(e){"success"===e.data.message?(console.log(e),t.get_ar_account_tree("add"),t.dialogVisible=!1,t.hintInfo("success","新增AR账户设置成功")):t.hintInfo("warning","新增AR账户设置失败--"+e.data.message)}).catch(function(e){console.log(e)}):""===t.param.credit_limit||""===t.reference_type||""===t.guarantor_type||""===t.ar_status||""===t.close_date||""===t.param.name?t.hintInfo("warning","*为必填项"):parseInt(t.param.ar_cycle_day)>31||parseInt(t.param.ar_cycle_day)<1?t.hintInfo("warning","周期结账日不能大于31或者小于1"):parseInt(t.param.ar_cycle)>12||parseInt(t.param.ar_cycle)<1?t.hintInfo("warning","结账周期不能大于12或者小于1"):t.$axios({url:t.url+"/v1/accounts/add_ar_account/",method:"post",data:{credit_limit:t.param.credit_limit,sales_id:t.sales_id,guarantor_id:d,ar_account_type:t.reference_type,guarantor_type:p,ar_status:t.ar_status,is_group:parseInt(t.is_group),name:t.param.name,is_permanent:parseInt(t.is_permanent),is_halt:parseInt(t.is_halt),is_cycled:parseInt(t.is_cycled),close_date:t.close_date,contact_phone:t.param.contact_phone,contact:t.param.contact,incoming_account_codes:r()(a),credit_card:t.param.credit_card,remark:t.param.comment,cashier:t.register_data}}).then(function(e){"success"===e.data.message?(t.dialogVisible=!1,t.get_ar_account_tree("add"),t.hintInfo("success","新增AR账户成功")):t.error("新增失败")}).catch(function(e){t.hintInfo("warning","新增AR账户失败")})},handleClose:function(e){e(),clearInterval(this.circulation)},hidden_card:function(){this.upload_flags=!1},opt_file:function(e){"download"===e?this.upload_flags=!1:this.open_tips()},opt_upload:function(e){"cancel"===e?(console.info("点击取消"),this.upload_flags=!1,this.mongolia_tip=!1):(console.info("点击确认"),this.upload_flags=!1,this.mongolia_tip=!1)},preview:function(e){var t=this,a=this.$refs.file.files;console.info(a),console.info(e);var s=new FormData;s.append("file",a[0]),this.$axios({method:"post",url:this.url+"room/room_status/add_room_map_with_csv/",headers:{"Content-type":"multipart/form-data"},data:s}).then(function(e){console.info(e),"success"===e.data.message?t.hintInfo("success","操作成功"):t.hintInfo("warning","操作失败")}).catch(function(e){console.error(e)})},open_tips:function(){this.mongolia_tip=!0},upload_file:function(){console.info("=====上传文件=====")},hintInfo:function(e,t){"success"===e?this.$message({message:t,showClose:!0,type:"success"}):"warning"===e&&this.$message({message:t,showClose:!0,type:"warning"})},get_memberData:function(e,t){this.arAccountindex=t},get_memberData_confirm:function(){this.certainBaseData.company_type.ar_no1=this.arAccountArr[this.arAccountindex].id,this.checkArDialogVisible=!1},navigateToDetail:function(e){this.$router.push({path:e,query:{memberData:this.certainBaseData}})},get_hotel_info:function(){var e=this;e.$axios({url:e.api.apiTauthPro_apiTauthDev+"/organization/hotel_base/get_hotel/",method:"get"}).then(function(t){"success"===t.data.message&&(e.hotel_info=t.data.data.results[0].full_name)}).catch(function(e){console.log(e)})},ifStatus:function(e){this.certainBaseData.status=e,this.canEdit=!0,this.$message({message:"状态已修改",type:"success"})},showFunc:function(){this.listShow=!this.listShow,this.newAddBtn=!1},NewAddBase:function(){this.showFunc(),this.newAddBtn=!0,this.certainBaseData={company_type:{flag_cat:null,grade:null,latency:null,class1:null,class2:null,class3:null,class4:null,src:null,market:null,is_over_rsv_src:null},company_prefer:{specials:null,amenity:null,feature:null,room_prefer:null,interest:null,prefer_front:null,prefer_fb:null,prefer_other:null},company_production:{first_visit_date:null,first_visit_room:null,first_visit_rate:null,last_visit_date:null,last_visit_room:null,last_visit_rate:null,days_in:"0.00",times_in:0,times_cxl:0,times_noshow:0,times_trans:0,times_fb:0,times_en:0,production_rm:"0.00",production_fb:"0.00",production_en:"0.00",production_mt:"0.00",production_ot:"0.00",production_ttl:"0.00"},card_type:"",card_level:"",card_no:"",card_master:null,status:"E",rate_code:"",comm_code:null,sys_cat:"",sale_man:null,date_begin:"",date_end:"",name:"",language:null,country:null,phone:null,fax:null,email:null,website:null,blog:null,linkman1:null,state:null,city:null,division:null,street:null,zip_code:null,manual_no:null,representative:null,register_no:null,bank_name:null,bank_account:null,tax_no:null,ar_no1:null,point_pay:"0.00",point_charge:"0.00",point_last_num:0,point_last_num_link:0,money_pay:"0.00",money_charge:"0.00",money_freeze:"0.00",money_receipt:"0.00",money_real_pay:"0.00",money_last_num:0,money_last_num_link:0,credit:"0.00",remark:null}},handleCurrentPageChange:function(e){var t=this,a=t.UrLHeader+"customer/company/get_company_base_list/";_()({method:"get",url:a,params:{page:e,page_size:20}}).then(function(e){console.log("列表",e.data.data.results),"success"==e.data.message&&e.data.data.results.length&&(t.cardBaseList=e.data.data.results,t.total=e.data.data.count)}).catch(function(e){})},get_info:function(e){var t=this.UrLHeader+"customer/company/get_company_base_info/"+e+"/",a=this;_.a.get(t).then(function(e){"success"==e.data.message?(a.certainBaseData=e.data.data,a.cloneData=a.certainBaseData,localStorage.setItem("cloneData",r()(a.certainBaseData))):a.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_certain_card_base_list:function(e){var t=this.UrLHeader+"customer/company/get_company_base_info/"+e+"/",a=this;_.a.get(t).then(function(e){"success"==e.data.message?(a.certainBaseData=e.data.data,a.cloneData=a.certainBaseData,a.showFunc(),localStorage.setItem("cloneData",r()(a.certainBaseData))):a.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},add_card_base:function(){var e=this.UrLHeader+"customer/company/add_company_base/",t=this,a=i()({},t.certainBaseData);t.certainBaseData.company_type,t.certainBaseData.company_prefer,t.certainBaseData.company_production;delete t.certainBaseData.company_type,delete t.certainBaseData.company_prefer,delete t.certainBaseData.company_production;var s=t.certainBaseData;s.card_level&&s.card_type&&s.rate_code?(console.log({company_base:s,company_type:a.company_type,company_prefer:a.company_prefer,company_production:a.company_production}),s.name?_()({url:e,method:"post",data:{company_base:s,company_type:a.company_type,company_prefer:a.company_prefer,company_production:a.company_production}}).then(function(e){"success"==e.data.message?(t.newAddBtn=!1,t.handleCurrentPageChange(1),t.$message({message:"添加成功",type:"success"}),t.get_info(e.data.data.id)):t.$message.error("保存失败，请注意带*必填字段")}).catch(function(e){}):t.$message.error("姓名不能为空")):t.$message.error("请务必填写红色必填项")},update_card_base:function(e){var t=this.UrLHeader+"customer/company/update_company_base/"+e+"/",a=this,s=i()({},a.certainBaseData);a.certainBaseData.company_type,a.certainBaseData.company_prefer,a.certainBaseData.company_production;delete a.certainBaseData.company_type,delete a.certainBaseData.company_prefer,delete a.certainBaseData.company_production;var n=a.certainBaseData;if(n.card_level&&n.card_type)if(n.name){JSON.parse(localStorage.getItem("cloneData"));_()({url:t,method:"post",data:{company_base:n,company_type:s.company_type,company_prefer:s.company_prefer,company_production:s.company_production}}).then(function(e){"success"==e.data.message?(a.handleCurrentPageChange(1),a.get_info(a.certainBaseData.id),a.$message({message:"保存成功",type:"success"})):a.$message.error("保存失败，请注意带*号必填字段")}).catch(function(e){})}else a.$message.error("单位名称不能为空");else a.$message.error("请优先选择VIP等级和VIP类型")},remove_card_base:function(e){var t=this.UrLHeader+"customer/company/remove_company_base/"+e+"/",a=this;a.$confirm("是否永久删除该协议单位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){_.a.post(t).then(function(e){"success"==e.data.message?(a.showFunc(),a.handleCurrentPageChange(1),a.$message({message:"删除成功",type:"success"})):this.$message.error("删除信息失败")}).catch(function(e){})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},get_salesman:function(){var e=this.api.apiTauthPro_apiTauthDev+"/organization/hotel_base/hotel_get_employee/?page_size=30000",t=this;t.salesmanArr.length||_.a.get(e).then(function(e){"success"==e.data.message?(console.log("人员",e.data.data),t.salesmanArr=e.data.data.list):t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},canEditClassInfo:function(){this.canEdit=!0},get_code_list:function(){this.get_salesman(),this.get_card_setting_tree(),this.get_id_code_tree(),this.get_nation_tree(),this.get_language_tree(),this.get_race_tree(),this.get_religion_tree(),this.get_salary_tree(),this.get_interest_tree(),this.get_fj_codeArr_tree(),this.get_market(),this.get_src()},get_card_setting_tree:function(){var e=this.UrLHeader+"customer/member/get_card_setting_tree/?code_type=CM",t=this;_.a.get(e).then(function(e){"success"==e.data.message?e.data.data.results.length&&(t.CardTypeTree=e.data.data.results,t.get_card_level_tree()):t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_card_level_tree:function(){if(this.CardTypeTree.length)for(var e in this.CardTypeTree)this.certainBaseData.card_type==this.CardTypeTree[e].id&&(this.CardTypeTree[e].children.length?this.CardLevelTree=this.CardTypeTree[e].children:this.$message({message:"请先创建一个协议单位等级",type:"warning"}));else this.$message({message:"请先选择会员计划",type:"warning"})},get_id_code_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=idcode&page_size=300",t=this;t.idCodeArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.idCodeArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_nation_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=nation&page_size=300",t=this;t.nationArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.nationArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_market:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=market_code&page_size=300",t=this;t.marketArr.length||_.a.get(e).then(function(e){"success"==e.data.message?(t.marketArr=e.data.data.results,console.log(e.data.data.results)):t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_src:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=src_code&page_size=300",t=this;t.srcArr.length||_.a.get(e).then(function(e){"success"==e.data.message?(t.srcArr=e.data.data.results,console.log(e.data.data.results)):t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_language_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=language&page_size=300",t=this;t.languageArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.languageArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_race_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=race&page_size=300",t=this;t.raceArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.raceArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_country_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_country_list/?page_size=300",t=this;t.countryArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.countryArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_province_tree:function(){var e=this,t=void 0;e.certainBaseData.country?(t=e.SelectUrLHeader+"v1/system/settings/get_province_list/?country="+e.certainBaseData.country+"&page_size=300",_.a.get(t).then(function(t){"success"==t.data.message?e.provinceArr=t.data.data.results:e.$message.error("请求服务器失败，稍后重试")}).catch(function(e){console.log("请求失败")})):e.$message.error("请先选择国家")},get_city_tree:function(){if(_this.certainBaseData.country&&_this.certainBaseData.state){var e=this,t=this.SelectUrLHeader+"v1/system/settings/get_division_list/?province="+e.certainBaseData.state+"&page_size=300";_.a.get(t).then(function(t){"success"==t.data.message?e.cityArr=t.data.data.results:e.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})}else _this.$message.error("请先选择国家和州省")},get_religion_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=religion&page_size=300",t=this;t.religionArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.religionArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_salary_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=salary&page_size=300",t=this;t.salaryArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.salaryArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_interest_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=interest&page_size=300",t=this;t.interestArr.length||_.a.get(e).then(function(e){"success"==e.data.message?t.interestArr=e.data.data.results:t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_ar_account_tree:function(e){var t=this;console.log(e),e||(t.checkArDialogVisible=!0),t.$axios({url:t.SelectUrLHeader+"v1/accounts/get_ar_account_list/",methods:"",params:{page_size:999}}).then(function(e){if("success"==e.data.message){for(var a=[],s=0;s<e.data.data.results.length;s++)0===e.data.data.results[s].is_halt&&a.push(e.data.data.results[s]);t.arAccountArr=a}}).catch(function(e){})},get_fj_codeArr_tree:function(){var e=this.rateHeader+"room/rate_code/get_rate_code_list/",t=this;t.fj_codeArr.length||_.a.get(e).then(function(e){"success"==e.data.message?(t.fj_codeArr=e.data.data.results,console.log(e.data.data.results)):t.$message.error("请求服务器失败，稍后重试")}).catch(function(e){})},get_guest_type_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=guest_type&page_size=300",t=this;t.guestTypeArr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.guestTypeArr=e.data.data.results)}).catch(function(e){})},get_guest_grade_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=guest_grade&page_size=300",t=this;t.guestGradeArr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.guestGradeArr=e.data.data.results)}).catch(function(e){})},get_class1Arr_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=profile_class1&page_size=300",t=this;t.class1Arr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.class1Arr=e.data.data.results)}).catch(function(e){})},get_class2Arr_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=profile_class2&page_size=300",t=this;t.class2Arr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.class2Arr=e.data.data.results)}).catch(function(e){})},get_class3Arr_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=profile_class3&page_size=300",t=this;t.class3Arr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.class3Arr=e.data.data.results)}).catch(function(e){})},get_class4Arr_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=profile_class4&page_size=300",t=this;t.class4Arr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.class4Arr=e.data.data.results)}).catch(function(e){})},get_latency_tree:function(){var e=this.SelectUrLHeader+"v1/system/settings/get_code_base_list/?parent_code=latency&page_size=300",t=this;t.latencyArr.length||_.a.get(e).then(function(e){"success"==e.data.message&&(t.latencyArr=e.data.data.results)}).catch(function(e){})},isnull:function(e){var t=e.replace(/(^\s*)|(\s*$)/g,"");return""==t||void 0==t||null==t},getNowFormatDate:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),s=e.getHours(),i=e.getMinutes(),n=e.getSeconds();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),i>=0&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+a+" "+s+":"+i+":"+n}},created:function(){this.handleCurrentPageChange(1),this.get_hotel_info()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"memberDiv"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.listShow,expression:" listShow == true "}],staticClass:"MemberList"},[a("p",{staticClass:"iconLogo"},[e._v("协议单位列表")]),e._v(" "),a("div",{staticClass:"search"},[e._v("\n      协议单位编号/单位名：\n      "),e._v(" "),a("el-input",{staticStyle:{width:"220px",margin:"0 16px"},attrs:{placeholder:"请输入内容"},model:{value:e.SearchContent,callback:function(t){e.SearchContent=t},expression:"SearchContent"}}),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.NewAddBase()}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.upload_flags=!0}}},[e._v("批量上传")])],1),e._v(" "),a("div",{staticClass:"table",staticStyle:{width:"100%"}},[a("table",[e._m(0),e._v(" "),a("tbody",e._l(e.cardBaseList,function(t,s){return a("tr",{key:s,on:{click:function(a){e.get_certain_card_base_list(t.id)}}},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.card_no))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.card_type_desc))]),e._v(" "),a("td",[e._v(e._s(t.card_level_desc))]),e._v(" "),a("td",[e._v(e._s(e.companyDict[t.sys_cat]))]),e._v(" "),a("td",[e._v(e._s(t.rate_code))]),e._v(" "),a("td",[e._v(e._s(t.linkman1))]),e._v(" "),a("td",[e._v(e._s(t.phone))]),e._v(" "),a("td",[e._v(e._s(t.point_pay-t.point_charge))]),e._v(" "),a("td",[e._v(e._s(t.money_pay-t.money_charge-t.money_freeze))])])}),0)]),e._v(" "),0==e.cardBaseList.length?a("p",{staticStyle:{padding:"20px 0","text-align":"center"}},[e._v("当前暂无数据")]):e._e(),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentPageChange}})],1)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.listShow,expression:" listShow == false "}],staticClass:"MemberList",staticStyle:{width:"1660px"}},[a("p",{staticClass:"iconLogo"},[e._v("\n      协议单位信息\n      "),a("el-button",{staticClass:"pull-right",attrs:{type:"primary"},on:{click:function(t){e.showFunc()}}},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"memberMes"},[a("div",{staticClass:"basic"},[a("div",{},[a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(1),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.name,callback:function(t){e.$set(e.certainBaseData,"name",t)},expression:"certainBaseData.name"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(2),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},model:{value:e.certainBaseData.sys_cat,callback:function(t){e.$set(e.certainBaseData,"sys_cat",t)},expression:"certainBaseData.sys_cat"}},e._l(e.companyArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("联系人：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.linkman1,callback:function(t){e.$set(e.certainBaseData,"linkman1",t)},expression:"certainBaseData.linkman1"}})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("电话：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"可输入多个号码"},model:{value:e.certainBaseData.phone,callback:function(t){e.$set(e.certainBaseData,"phone",t)},expression:"certainBaseData.phone"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("备注：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",type:"textarea",placeholder:"请输入内容"},model:{value:e.certainBaseData.remark,callback:function(t){e.$set(e.certainBaseData,"remark",t)},expression:"certainBaseData.remark"}})],1)]),e._v(" "),a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("单位信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("合同编号：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.manual_no,callback:function(t){e.$set(e.certainBaseData,"manual_no",t)},expression:" certainBaseData.manual_no "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("法人：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.representative,callback:function(t){e.$set(e.certainBaseData,"representative",t)},expression:" certainBaseData.representative "}})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("开户行：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.bank_name,callback:function(t){e.$set(e.certainBaseData,"bank_name",t)},expression:" certainBaseData.bank_name "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("银行账号：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.bank_account,callback:function(t){e.$set(e.certainBaseData,"bank_account",t)},expression:"certainBaseData.bank_account"}})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("税号：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.tax_no,callback:function(t){e.$set(e.certainBaseData,"tax_no",t)},expression:"certainBaseData.tax_no"}})],1)])]),e._v(" "),a("div",{staticClass:" basicRight row"},[a("div",{staticClass:"showbox"},[e._m(3),e._v(" "),a("p",[e._v("创建人："+e._s(e.certainBaseData.create_user))]),e._v(" "),a("p",[e._v("创建日期："+e._s(e.certainBaseData.create_datetime))]),e._v(" "),a("p",[e._v("修改人："+e._s(e.certainBaseData.modify_user))]),e._v(" "),a("p",[e._v("修改日期："+e._s(e.certainBaseData.modify_datetime))]),e._v(" "),a("div",{staticClass:"resetBtn"},[a("el-button",{staticStyle:{"background-color":"#68819E"},attrs:{type:"primary"},on:{click:function(t){e.remove_card_base(e.certainBaseData.id)}}},[e._v("删除")]),e._v(" "),e.newAddBtn?a("el-button",{staticStyle:{"background-color":"#4488E9"},attrs:{type:"primary"},on:{click:function(t){e.add_card_base()}}},[e._v("新增")]):a("el-button",{staticStyle:{"background-color":"#4488E9"},attrs:{type:"primary"},on:{click:function(t){e.update_card_base(e.certainBaseData.id)}}},[e._v("保存")])],1)])])]),e._v(" "),a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("地址信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("国家：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_country_tree()}},model:{value:e.certainBaseData.country,callback:function(t){e.$set(e.certainBaseData,"country",t)},expression:"certainBaseData.country"}},e._l(e.countryArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("州/省：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_province_tree()}},model:{value:e.certainBaseData.state,callback:function(t){e.$set(e.certainBaseData,"state",t)},expression:"certainBaseData.state "}},e._l(e.provinceArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("邮编：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.zip_code,callback:function(t){e.$set(e.certainBaseData,"zip_code",t)},expression:"certainBaseData.zip_code "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("邮箱：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.email,callback:function(t){e.$set(e.certainBaseData,"email",t)},expression:"certainBaseData.email "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("城市：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_city_tree()}},model:{value:e.certainBaseData.city,callback:function(t){e.$set(e.certainBaseData,"city",t)},expression:"certainBaseData.city"}},e._l(e.cityArr,function(e,t){return a("el-option",{key:t,attrs:{clearable:"",label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v(" 语种：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_language_tree()}},model:{value:e.certainBaseData.language,callback:function(t){e.$set(e.certainBaseData,"language",t)},expression:"certainBaseData.language"}},e._l(e.languageArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("地址：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.street,callback:function(t){e.$set(e.certainBaseData,"street",t)},expression:"certainBaseData.street"}})],1)]),e._v(" "),a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("分类信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("公司分类：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_class1Arr_tree()}},model:{value:e.certainBaseData.company_type.class1,callback:function(t){e.$set(e.certainBaseData.company_type,"class1",t)},expression:"certainBaseData.company_type.class1 "}},e._l(e.class1Arr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("地址分类：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_class2Arr_tree()}},model:{value:e.certainBaseData.company_type.class2,callback:function(t){e.$set(e.certainBaseData.company_type,"class2",t)},expression:"certainBaseData.company_type.class2 "}},e._l(e.class2Arr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("行业分类：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_class3Arr_tree()}},model:{value:e.certainBaseData.company_type.class3,callback:function(t){e.$set(e.certainBaseData.company_type,"class3",t)},expression:"certainBaseData.company_type.class3 "}},e._l(e.class3Arr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("资产性质：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_class4Arr_tree()}},model:{value:e.certainBaseData.company_type.class4,callback:function(t){e.$set(e.certainBaseData.company_type,"class4",t)},expression:"certainBaseData.company_type.class4 "}},e._l(e.class4Arr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("标记类别：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_guest_type_tree()}},model:{value:e.certainBaseData.company_type.flag_cat,callback:function(t){e.$set(e.certainBaseData.company_type,"flag_cat",t)},expression:"certainBaseData.company_type.flag_cat "}},e._l(e.guestTypeArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("信用等级：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_guest_grade_tree()}},model:{value:e.certainBaseData.company_type.grade,callback:function(t){e.$set(e.certainBaseData.company_type,"grade",t)},expression:"certainBaseData.company_type.grade "}},e._l(e.guestGradeArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("市场：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_market()}},model:{value:e.certainBaseData.company_type.market,callback:function(t){e.$set(e.certainBaseData.company_type,"market",t)},expression:"certainBaseData.company_type.market "}},e._l(e.marketArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("来源：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"mini"},on:{focus:function(t){e.get_src()}},model:{value:e.certainBaseData.company_type.src,callback:function(t){e.$set(e.certainBaseData.company_type,"src",t)},expression:"certainBaseData.company_type.src "}},e._l(e.srcArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1)]),e._v(" "),a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("喜好信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("客房布置：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.certainBaseData.company_prefer.amenity,callback:function(t){e.$set(e.certainBaseData.company_prefer,"amenity",t)},expression:"certainBaseData.company_prefer.amenity "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("排房要求：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",size:"mini",clearable:"",placeholder:"请选择"},model:{value:e.certainBaseData.company_prefer.room_prefer,callback:function(t){e.$set(e.certainBaseData.company_prefer,"room_prefer",t)},expression:"certainBaseData.company_prefer.room_prefer"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("兴趣爱好：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{filterable:"",clearable:"",size:"mini",placeholder:"请选择"},on:{focus:function(t){e.get_interest_tree()}},model:{value:e.certainBaseData.company_prefer.interest,callback:function(t){e.$set(e.certainBaseData.company_prefer,"interest",t)},expression:"certainBaseData.company_prefer.interest"}},e._l(e.interestArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("其它喜好：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.certainBaseData.company_prefer.prefer_other,callback:function(t){e.$set(e.certainBaseData.company_prefer,"prefer_other",t)},expression:"certainBaseData.company_prefer.prefer_other"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("特殊要求：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.certainBaseData.company_prefer.specials,callback:function(t){e.$set(e.certainBaseData.company_prefer,"specials",t)},expression:"certainBaseData.company_prefer.specials"}})],1)]),e._v(" "),a("div",{staticClass:"link"},[a("p",{staticClass:"title_demo"},[e._v("消费信息")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("首次入住房价")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.first_visit_rate,callback:function(t){e.$set(e.certainBaseData.company_production,"first_visit_rate",t)},expression:"certainBaseData.company_production.first_visit_rate"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("最近入住房价")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.last_visit_rate,callback:function(t){e.$set(e.certainBaseData.company_production,"last_visit_rate",t)},expression:"certainBaseData.company_production.last_visit_rate"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("入住房晚：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.days_in,callback:function(t){e.$set(e.certainBaseData.company_production,"days_in",t)},expression:"certainBaseData.company_production.days_in "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("入住次数：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.times_in,callback:function(t){e.$set(e.certainBaseData.company_production,"times_in",t)},expression:"certainBaseData.company_production.times_in "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("NOSHOW次：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.times_noshow,callback:function(t){e.$set(e.certainBaseData.company_production,"times_noshow",t)},expression:"certainBaseData.company_production.times_noshow  "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("转管次数：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.times_trans,callback:function(t){e.$set(e.certainBaseData.company_production,"times_trans",t)},expression:"certainBaseData.company_production.times_trans  "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("用餐次数：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.times_fb,callback:function(t){e.$set(e.certainBaseData.company_production,"times_fb",t)},expression:"certainBaseData.company_production.times_fb   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("娱乐次数：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.times_en,callback:function(t){e.$set(e.certainBaseData.company_production,"times_en",t)},expression:"certainBaseData.company_production.times_en   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("房费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_rm,callback:function(t){e.$set(e.certainBaseData.company_production,"production_rm",t)},expression:"certainBaseData.company_production.production_rm   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("餐费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_fb,callback:function(t){e.$set(e.certainBaseData.company_production,"production_fb",t)},expression:"certainBaseData.company_production.production_fb   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("娱乐费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_en,callback:function(t){e.$set(e.certainBaseData.company_production,"production_en",t)},expression:"certainBaseData.company_production.production_en   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("会议费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_mt,callback:function(t){e.$set(e.certainBaseData.company_production,"production_mt",t)},expression:"certainBaseData.company_production.production_mt   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("其它消费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_ot,callback:function(t){e.$set(e.certainBaseData.company_production,"production_ot",t)},expression:"certainBaseData.company_production.production_ot   "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("总消费：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.company_production.production_ttl,callback:function(t){e.$set(e.certainBaseData.company_production,"production_ttl",t)},expression:"certainBaseData.company_production.production_ttl   "}})],1)])]),e._v(" "),a("p",{staticClass:"iconLogo"},[e._v("卡信息")]),e._v(" "),a("div",{staticClass:"memberMes"},[a("div",{staticClass:"link"},[a("div",{staticClass:"inputCell"},[e._m(4),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_card_setting_tree()}},model:{value:e.certainBaseData.card_type,callback:function(t){e.$set(e.certainBaseData,"card_type",t)},expression:"certainBaseData.card_type "}},e._l(e.CardTypeTree,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(5),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_card_level_tree()}},model:{value:e.certainBaseData.card_level,callback:function(t){e.$set(e.certainBaseData,"card_level",t)},expression:"certainBaseData.card_level "}},e._l(e.CardLevelTree,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("状态：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.status,callback:function(t){e.$set(e.certainBaseData,"status",t)},expression:"certainBaseData.status"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("发卡酒店：")]),e._v("\n          "+e._s(e.hotel_info)+"\n        ")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("销售员：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_salesman()}},model:{value:e.certainBaseData.salesman,callback:function(t){e.$set(e.certainBaseData,"salesman",t)},expression:"certainBaseData.salesman"}},e._l(e.salesmanArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.real_name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("AR账号：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},on:{focus:function(t){e.get_ar_account_tree()}},model:{value:e.certainBaseData.company_type.ar_no1,callback:function(t){e.$set(e.certainBaseData.company_type,"ar_no1",t)},expression:"certainBaseData.company_type.ar_no1"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(6),e._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.certainBaseData.date_begin,callback:function(t){e.$set(e.certainBaseData,"date_begin",t)},expression:" certainBaseData.date_begin "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(7),e._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.certainBaseData.date_end,callback:function(t){e.$set(e.certainBaseData,"date_end",t)},expression:" certainBaseData.date_end "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(8),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_fj_codeArr_tree()}},model:{value:e.certainBaseData.rate_code,callback:function(t){e.$set(e.certainBaseData,"rate_code",t)},expression:"certainBaseData.rate_code"}},e._l(e.fj_codeArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("佣金码：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.comm_mode,callback:function(t){e.$set(e.certainBaseData,"comm_mode",t)},expression:"certainBaseData.comm_mode"}})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("积分余额：")]),e._v("\n          "+e._s(e.certainBaseData.point_pay-e.certainBaseData.point_charge)+"\n        ")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("储值余额：")]),e._v("\n          "+e._s(e.certainBaseData.money_pay-e.certainBaseData.money_charge-e.certainBaseData.money_freeze)+"\n        ")])]),e._v(" "),a("div",{staticClass:"resetBtn"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("注册打印")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("制卡")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("E")}}},[e._v("激活")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("R")}}},[e._v("挂失")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("S")}}},[e._v("停用")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("升降级")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("消费密码")]),e._v(" "),a("router-link",{staticStyle:{display:"inline-block"},attrs:{to:"/IntegralList"}},[a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("积分")])],1),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("储值")]),e._v(" "),a("router-link",{staticStyle:{display:"inline-block"},attrs:{to:"/treasure/cash-coupon"}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("券")])],1)],1)]),e._v(" "),a("div",{staticClass:"memberMes",staticStyle:{display:"none"}},[a("div",{staticClass:"link"},[a("div",{staticClass:"inputCell"},[e._m(9),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",disabled:"",placeholder:"请选择"},on:{focus:function(t){e.get_card_setting_tree()}},model:{value:e.certainBaseData.card_type,callback:function(t){e.$set(e.certainBaseData,"card_type",t)},expression:"certainBaseData.card_type"}},e._l(e.CardTypeTree,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(10),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",disabled:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_card_level_tree()}},model:{value:e.certainBaseData.card_level,callback:function(t){e.$set(e.certainBaseData,"card_level",t)},expression:"certainBaseData.card_level"}},e._l(e.CardLevelTree,function(e,t){return a("el-option",{key:t,attrs:{label:e.descript,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("AR账号：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},on:{focus:function(t){e.get_ar_account_tree()}},model:{value:e.certainBaseData.company_type.ar_no1,callback:function(t){e.$set(e.certainBaseData.company_type,"ar_no1",t)},expression:"certainBaseData.company_type.ar_no1"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(11),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",disabled:"",placeholder:"请输入内容"},model:{value:e.certainBaseData.status,callback:function(t){e.$set(e.certainBaseData,"status",t)},expression:"certainBaseData.status"}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("发卡酒店：")]),e._v("\n          "+e._s(e.hotel_info)+"\n        ")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("销售员：")]),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_salesman()}},model:{value:e.certainBaseData.salesman,callback:function(t){e.$set(e.certainBaseData,"salesman",t)},expression:"certainBaseData.salesman"}},e._l(e.salesmanArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.real_name,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(12),e._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.certainBaseData.date_begin,callback:function(t){e.$set(e.certainBaseData,"date_begin",t)},expression:" certainBaseData.date_begin "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(13),e._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.certainBaseData.date_end,callback:function(t){e.$set(e.certainBaseData,"date_end",t)},expression:" certainBaseData.date_end "}})],1),e._v(" "),a("div",{staticClass:"inputCell"},[e._m(14),e._v(" "),a("el-select",{staticStyle:{width:"250px"},attrs:{size:"mini",filterable:"",clearable:"",placeholder:"请选择"},on:{focus:function(t){e.get_fj_codeArr_tree()}},model:{value:e.certainBaseData.rate_code,callback:function(t){e.$set(e.certainBaseData,"rate_code",t)},expression:"certainBaseData.rate_code"}},e._l(e.fj_codeArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.description,value:e.code}})}),1)],1),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("佣金码：")]),e._v(" "),a("el-input",{staticStyle:{width:"250px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.certainBaseData.comm_mode,callback:function(t){e.$set(e.certainBaseData,"comm_mode",t)},expression:"certainBaseData.comm_mode"}})],1),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("积分余额：")]),e._v("\n          "+e._s(e.certainBaseData.point_pay-e.certainBaseData.point_charge)+"\n        ")]),e._v(" "),a("div",{staticClass:"inputCell"},[a("p",[e._v("储值余额：")]),e._v("\n          "+e._s(e.certainBaseData.money_pay-e.certainBaseData.money_charge-e.certainBaseData.money_freeze)+"\n        ")])]),e._v(" "),a("div",{staticClass:"resetBtn"},[a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("注册打印")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[e._v("制卡")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("有效")}}},[e._v("激活")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("挂失")}}},[e._v("挂失")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.ifStatus("停用")}}},[e._v("停用")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("升降级")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("消费密码")]),e._v(" "),a("router-link",{staticStyle:{display:"inline-block"},attrs:{to:"/IntegralList"}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.navigateToDetail("/agreementIntegralList")}}},[e._v("积分")])],1),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.navigateToDetail("/agreementStoredList")}}},[e._v("储值")]),e._v(" "),a("router-link",{staticStyle:{display:"inline-block"},attrs:{to:"/treasure/cash-coupon"}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("券")])],1)],1)])]),e._v(" "),a("el-dialog",{attrs:{title:"AR账号选择",visible:e.checkArDialogVisible,width:"70%"},on:{"update:visible":function(t){e.checkArDialogVisible=t}}},[a("div",{staticClass:"charge_detail"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.arAccount}},[e._v("新增AR账户")]),e._v(" "),a("div",{staticClass:"table",staticStyle:{width:"100%"}},[a("table",[a("thead",[a("tr",[a("th",[e._v("账号ID")]),e._v(" "),a("th",[e._v("账号名称")]),e._v(" "),a("th",[e._v("账户类型")]),e._v(" "),a("th",[e._v("账户状态")]),e._v(" "),a("th",[e._v("信用限额")]),e._v(" "),a("th",[e._v("担保类型")]),e._v(" "),a("th",[e._v("担保人")]),e._v(" "),a("th",[e._v("销售员")]),e._v(" "),a("th",[e._v("联系人")]),e._v(" "),a("th",[e._v("集团码")]),e._v(" "),a("th",[e._v("永久账户")]),e._v(" "),a("th",[e._v("停用")]),e._v(" "),a("th",[e._v("创建人")]),e._v(" "),a("th",[e._v("备注")])])]),e._v(" "),a("tbody",e._l(e.arAccountArr,function(t,s){return a("tr",{key:s,style:{"background-color":s==e.arAccountindex?"#bbbbbb":""},on:{click:function(a){e.get_memberData(t,s)},dblclick:function(t){e.get_memberData_confirm()}}},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.ar_account_type_desc))]),e._v(" "),a("td",[e._v(e._s(t.ar_status_desc))]),e._v(" "),a("td",[e._v(e._s(t.credit_limit))]),e._v(" "),a("td",[e._v(e._s(t.guarantor_type_id))]),e._v(" "),a("td",[e._v(e._s(t.guarantor_id))]),e._v(" "),a("td",[e._v(e._s(t.sales_id))]),e._v(" "),a("td",[e._v(e._s(t.contact))]),e._v(" "),a("td",[t.is_group?a("span",[e._v("否")]):e._e(),t.is_group?a("span",[e._v("是")]):e._e()]),e._v(" "),a("td",[t.is_permanent?a("span",[e._v("否")]):a("span",[e._v("是")])]),e._v(" "),a("td",[t.is_halt?a("span",[e._v("是")]):a("span",[e._v("否")])]),e._v(" "),a("td",[e._v(e._s(t.create_user))]),e._v(" "),a("td",[e._v(e._s(t.remark))])])}),0)]),e._v(" "),0==e.arAccountArr.length?a("p",{staticStyle:{padding:"20px 0","text-align":"center"}},[e._v("当前暂无数据")]):e._e()])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"pull-left"},[e._v("记录总数： "+e._s(e.arAccountArr.length))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.get_memberData_confirm()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,"close-on-click-modal":!1,width:"46%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog_style_header-title",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"dialog_style_title-name"},[e._v(e._s(e.title))])]),e._v(" "),a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"AR账户",name:"first",size:"mini"}},[a("ul",{staticClass:"dialog_style",staticStyle:{"margin-top":"10px"}},[a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("AR账户名称 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入账户名称",size:"mini"},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),e._v(" "),a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("信用限额 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入信用限额",size:"mini",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.param.credit_limit,callback:function(t){e.$set(e.param,"credit_limit",t)},expression:"param.credit_limit"}})],1),e._v(" "),a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("帐户类型 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择账户类型",clearable:"",size:"mini"},on:{focus:e.client_data},model:{value:e.reference_type,callback:function(t){e.reference_type=t},expression:"reference_type"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.descript,value:e.code}})}),1)],1),e._v(" "),a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("担保类型 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择担保类型",clearable:"",size:"mini"},on:{focus:e.guarantee_type,change:e.assure_type},model:{value:e.guarantor_type,callback:function(t){e.guarantor_type=t},expression:"guarantor_type"}},e._l(e.assure,function(e){return a("el-option",{key:e.id,attrs:{label:e.descript,value:e.id+","+e.code_category}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("销售员 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择销售员",clearable:"",size:"mini"},on:{focus:e.employ},model:{value:e.sales_id,callback:function(t){e.sales_id=t},expression:"sales_id"}},e._l(e.bonds_list,function(e){return a("el-option",{key:e.value,attrs:{label:e.real_name,value:e.id}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("担保人 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",placeholder:"请选择担保人",clearable:"",size:"mini"},on:{focus:e.assure_type},model:{value:e.guarantor_id,callback:function(t){e.guarantor_id=t},expression:"guarantor_id"}},e._l(e.bondsman,function(e){return a("el-option",{key:e.id,attrs:{label:e.real_name,value:e.id}})}),1)],1),e._v(" "),a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("账户状态 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择账户状态",clearable:"",size:"mini"},model:{value:e.ar_status,callback:function(t){e.ar_status=t},expression:"ar_status"}},e._l(e.condition,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.id}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("收银点 ：")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择收银点",clearable:"",size:"mini"},on:{focus:e.cash_register},model:{value:e.register_data,callback:function(t){e.register_data=t},expression:"register_data"}},e._l(e.register_list,function(e){return a("el-option",{key:e.id,attrs:{label:e.desc,value:e.id}})}),1)],1),e._v(" "),a("li",[a("span",[e._v("联系人 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入联系人",size:"mini"},model:{value:e.param.contact,callback:function(t){e.$set(e.param,"contact",t)},expression:"param.contact"}})],1),e._v(" "),a("li",[a("span",[e._v("信用卡号码 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入信用卡号码",size:"mini"},model:{value:e.param.credit_card,callback:function(t){e.$set(e.param,"credit_card",t)},expression:"param.credit_card"}})],1),e._v(" "),a("li",[a("span",[e._v("联系人电话 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入联系人电话",maxlength:"11",size:"mini",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.param.contact_phone,callback:function(t){e.$set(e.param,"contact_phone",t)},expression:"param.contact_phone"}})],1),e._v(" "),e.group?a("li",{staticStyle:{height:"28px"}},[a("span",[e._v("是否集团账户 ：")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.is_group,callback:function(t){e.is_group=t},expression:"is_group"}},[e._v("否")])],1):e._e(),e._v(" "),a("li",{staticStyle:{height:"28px"}},[a("span",[e._v("是否周期性结帐 ：")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_cycled,callback:function(t){e.is_cycled=t},expression:"is_cycled"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.is_cycled,callback:function(t){e.is_cycled=t},expression:"is_cycled"}},[e._v("否")])],1),e._v(" "),"1"===e.is_cycled?a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("结账周期：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"结账周期，单位月",size:"mini",oninput:"value=value.replace(/[^\\d]/g,'')"},on:{blur:function(t){t.preventDefault(),e.changeCount()}},model:{value:e.param.ar_cycle,callback:function(t){e.$set(e.param,"ar_cycle",t)},expression:"param.ar_cycle"}})],1):e._e(),e._v(" "),"1"===e.is_cycled?a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("周期结账日：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"每个周期最后一个月的几号",size:"mini",oninput:"value=value.replace(/[^\\d]/g,'')"},on:{blur:function(t){t.preventDefault(),e.changeBlur()}},model:{value:e.param.ar_cycle_day,callback:function(t){e.$set(e.param,"ar_cycle_day",t)},expression:"param.ar_cycle_day"}})],1):a("li",[a("span",[a("i",{staticStyle:{color:"red","font-size":"18px"}},[e._v("*")]),e._v("结账日：")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择结账日"},model:{value:e.close_date,callback:function(t){e.close_date=t},expression:"close_date"}})],1),e._v(" "),a("li",{staticStyle:{height:"28px"}},[a("span",[e._v("是否停用 ：")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_halt,callback:function(t){e.is_halt=t},expression:"is_halt"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.is_halt,callback:function(t){e.is_halt=t},expression:"is_halt"}},[e._v("否")])],1),e._v(" "),a("li",{staticStyle:{height:"28px"}},[a("span",[e._v("是否永久账户 ：")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.is_permanent,callback:function(t){e.is_permanent=t},expression:"is_permanent"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.is_permanent,callback:function(t){e.is_permanent=t},expression:"is_permanent"}},[e._v("否")])],1),e._v(" "),a("li",[a("span",{staticStyle:{"vertical-align":"top"}},[e._v("备注 ：")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入备注",type:"textarea",rows:2,size:"mini"},model:{value:e.param.comment,callback:function(t){e.$set(e.param,"comment",t)},expression:"param.comment"}})],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{float:"right",margin:"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.ensure()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"允许记账",name:"second"}},[a("ul",{staticClass:"dialog_style",staticStyle:{"margin-top":"10px"}},[a("el-tree",{ref:"tree",attrs:{data:e.keep_accounts,"node-key":"id","default-checked-keys":e.checked_arr,"show-checkbox":"","expand-on-click-node":!0,"node-contextmenu":"","highlight-current":""},on:{getCheckedKeys:function(t){e.getCheckedKeys(e.arrayId)}},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var s=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"my_node",attrs:{"data-id":s.id}},[e._v(e._s(s.descript))])])}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{float:"right",margin:"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.ensure()}}},[e._v("确 定")])],1)])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.upload_flags,expression:"upload_flags"}],staticClass:"mongolia",on:{click:e.hidden_card}},[a("div",{on:{click:function(e){e.stopPropagation()}}},[a("el-card",{staticClass:"upload_flag"},[a("a",{attrs:{href:"https://ispider-oss.oss-cn-hangzhou.aliyuncs.com/csv_template/%E5%AF%BC%E5%85%A5%E6%88%BF%E9%97%B4%E4%BF%A1%E6%81%AF%E6%A8%A1%E6%9D%BF%E6%96%B0.xlsx"},on:{click:function(t){e.opt_file("download")}}},[e._v("模版下载")]),e._v(" "),a("button",{on:{click:function(t){e.opt_file("upload")}}},[e._v("文件上传")])])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.mongolia_tip,expression:"mongolia_tip"}],staticClass:"mongolia_tip",on:{click:e.hidden_card}},[a("div",{on:{click:function(e){e.stopPropagation()}}},[a("el-card",{staticClass:"upload_flag_tip"},[a("div",{staticStyle:{width:"100%"}},[a("p",[e._v("\n            谨慎使用：上传文件配置酒店信息时，会清除当前酒店的"),a("br"),e._v("\n            所有房间信息， 仅建议在第一次配置酒店时使用。"),a("br"),e._v("\n            说明：请使用系统提供模板\n          ")])]),e._v(" "),a("button",{staticClass:"btn_cancel",on:{click:function(t){e.opt_upload("cancel")}}},[e._v("取消")]),e._v(" "),a("input",{staticClass:"btn_btn",attrs:{type:"button",value:"确认"},on:{click:function(t){e.opt_upload("yes")}}}),e._v(" "),a("input",{ref:"file",staticClass:"btn_yes",attrs:{type:"file"},on:{click:function(t){e.opt_upload("yes")},change:function(t){e.preview(t)}}})])],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("档案编号")]),e._v(" "),a("th",[e._v("协议单位代码")]),e._v(" "),a("th",[e._v("单位名称")]),e._v(" "),a("th",[e._v("VIP 计划")]),e._v(" "),a("th",[e._v("VIP 等级")]),e._v(" "),a("th",[e._v("客户类别")]),e._v(" "),a("th",[e._v("房价码")]),e._v(" "),a("th",[e._v("联系人")]),e._v(" "),a("th",[e._v("联系电话")]),e._v(" "),a("th",[e._v("积分余额")]),e._v(" "),a("th",[e._v("储值余额")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 单位名称： ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 客户类别：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cardImg"},[t("img",{attrs:{src:a("0UiL"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* VIP类型：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* VIP等级：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 有效期起：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 有效期止：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 房价码：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* VIP类型：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* VIP等级：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("*")]),this._v("状态：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 有效期起：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 有效期止：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("* 房价码：")])])}]};var u=a("VU/8")(p,d,!1,function(e){a("Cn3p")},"data-v-a56e7df8",null);t.default=u.exports}});